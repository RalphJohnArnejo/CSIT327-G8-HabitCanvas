<div class="task-card {% if task.completed %}completed{% endif %}" 
     data-priority="{{ task.priority }}" data-id="{{ task.id }}">

    <!-- Left section: circle + title/category -->
    <div class="left">
        <!-- Completion Circle -->
        <div class="circle {% if task.completed %}checked{% endif %}">
            <i class="fa fa-check" {% if not task.completed %}style="display:none"{% endif %}></i>
        </div>

        <div class="title-category">
            <span class="task-title {% if task.completed %}crossed{% endif %}">{{ task.title }}</span>
            {% if task.category %}
                <div class="tag">{{ task.category }}</div>
            {% endif %}
        </div>
    </div>

    <!-- Deadline: fixed in center -->
    {% if task.due_date %}
    <span class="task-deadline"><i class="fa fa-clock"></i> {{ task.due_date }}</span>
    {% endif %}

    <!-- Right actions -->
    <div class="right">
        <a href="#" class="favorite-btn" data-id="{{ task.id }}">
            <i class="fa fa-star {% if task.favorite %}starred{% endif %}"></i>
        </a>
        <a href="#" class="edit-btn"
           data-id="{{ task.id }}"
           data-title="{{ task.title }}"
           data-category="{{ task.category }}"
           data-difficulty="{{ task.difficulty }}"
           data-priority="{{ task.priority }}"
           data-due="{{ task.due_date|default_if_none:'' }}">
            <i class="fa fa-pen"></i>
        </a>
        <a href="{% url 'delete_task' task.id %}" class="delete-btn" data-id="{{ task.id }}">
            <i class="fa fa-trash"></i>
        </a>
        <a href="{% url 'toggle_complete' task.id %}" class="complete-btn" data-id="{{ task.id }}">
            <i class="fa {% if task.completed %}fa-rotate-left{% else %}fa-check{% endif %}"></i>
        </a>
    </div>
</div>
